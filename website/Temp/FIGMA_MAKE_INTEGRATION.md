# Figma Make Integration Guide

This document outlines the process for integrating components generated by Figma Make into the main Booking project. It covers common issues encountered and their solutions.

## Overview

Figma Make generates React components with Tailwind CSS styling. However, these components use a separate Tailwind build, meaning many CSS utility classes may not exist in your main project's compiled CSS. This guide helps you identify and resolve these issues.

---

## Integration Steps

### 1. Copy the Component Files

Copy the component files from the Figma Make output directory to your main project:

```bash
cp "Design Glassmorphism Booking Component/src/components/BookingCard.tsx" "src/components/"
```

### 2. Identify Missing CSS Utilities

Figma Make components use Tailwind's Just-In-Time (JIT) compiler, which generates only the CSS classes used in that project. Your main project likely doesn't have all these classes.

**How to find missing classes:**

1. Run both projects side-by-side (different ports)
2. Compare the rendered output visually
3. Check the browser DevTools for classes that aren't being applied
4. Search for specific utility patterns in both CSS files:

```bash
# Check if a class exists in main project
grep "h-\[56px\]" src/index.css

# Check if it exists in Figma Make output
grep "h-\[56px\]" "Design Glassmorphism Booking Component/src/index.css"
```

### 3. Copy Missing CSS Utilities

Add missing utilities to your main project's `src/index.css` inside the `@layer utilities` block.

---

## Common Missing Utilities

### Dimension Classes

```css
.h-\[48px\] {
  height: 48px;
}

.h-\[56px\] {
  height: 56px;
}

.h-\[420px\] {
  height: 420px;
}

.w-\[48px\] {
  width: 48px;
}

.w-\[340px\] {
  width: 340px;
}
```

### Color Classes

```css
.bg-\[\#66E0F8\] {
  background-color: #66e0f8 !important;  /* !important needed to override button reset */
}

.text-\[\#1A2B33\] {
  color: #1a2b33;
}

.text-\[\#66E0F8\] {
  color: #66e0f8;
}

.text-\[\#E0E0E0\] {
  color: #e0e0e0;
}
```

### Typography Classes

```css
.text-\[14px\] {
  font-size: 14px;
}

.text-\[16px\] {
  font-size: 16px;
}

.text-\[28px\] {
  font-size: 28px;
}

.tracking-\[1px\] {
  --tw-tracking: 1px;
  letter-spacing: 1px;
}

.leading-\[1\.5\] {
  --tw-leading: 1.5;
  line-height: 1.5;
}
```

### Border/Shape Classes

```css
.rounded-\[100px\] {
  border-radius: 100px;
}
```

### Shadow Classes

```css
.shadow-\[inset_0_0_0_1px_rgba\(255\,255\,255\,0\.2\)\] {
  --tw-shadow: inset 0 0 0 1px var(--tw-shadow-color, #fff3);
  box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
}

.backdrop-blur-\[40px\] {
  --tw-backdrop-blur: blur(40px);
  -webkit-backdrop-filter: var(--tw-backdrop-blur, ) var(--tw-backdrop-brightness, ) var(--tw-backdrop-contrast, ) var(--tw-backdrop-grayscale, ) var(--tw-backdrop-hue-rotate, ) var(--tw-backdrop-invert, ) var(--tw-backdrop-opacity, ) var(--tw-backdrop-saturate, ) var(--tw-backdrop-sepia, );
  backdrop-filter: var(--tw-backdrop-blur, ) var(--tw-backdrop-brightness, ) var(--tw-backdrop-contrast, ) var(--tw-backdrop-grayscale, ) var(--tw-backdrop-hue-rotate, ) var(--tw-backdrop-invert, ) var(--tw-backdrop-opacity, ) var(--tw-backdrop-saturate, ) var(--tw-backdrop-sepia, );
}
```

### Hover State Classes

```css
@media (hover: hover) {
  .hover\:bg-\[\#9eeefe\]:hover {
    background-color: #9eeefe;
  }
}

@media (hover: hover) {
  .hover\:shadow-\[inset_0_0_0_2px_\#66E0F8\,0_0_30px_-5px_\#66E0F8\]:hover {
    --tw-shadow: inset 0 0 0 2px var(--tw-shadow-color, #66e0f8), 0 0 30px -5px var(--tw-shadow-color, #66e0f8);
    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);
  }
}
```

---

## Font Issues

### Problem: Missing Font Weights

Figma Make components often use font weights that aren't loaded in your Google Fonts import.

**Solution:** Update your Google Fonts import to include all needed weights:

```css
/* Before */
@import url("https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;900&display=swap");

/* After - Added 500, 600, 700 */
@import url("https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;900&display=swap");
```

### Problem: Missing Font Weight Variables

Add missing CSS variables:

```css
:root {
  --font-weight-semibold: 600;  /* Often missing */
}
```

### Problem: Missing Font Weight Utility Classes

```css
.font-semibold {
  --tw-font-weight: var(--font-weight-semibold);
  font-weight: var(--font-weight-semibold);
}
```

### Problem: Different Font Families

Figma Make uses system fonts by default (`ui-sans-serif, system-ui, sans-serif`), while your project may use a custom font like Montserrat.

**Solution:** Add `font-sans` class to the component to use system fonts:

```tsx
// In the component
className="font-sans ..."
```

And ensure the utility class exists:

```css
.font-sans {
  font-family: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
}
```

---

## Button Background Issue

### Problem

Tailwind's CSS reset sets `background-color: #0000` (transparent) on buttons, which overrides utility classes like `bg-[#66E0F8]`.

### Solution

Add `!important` to the background color utility:

```css
.bg-\[\#66E0F8\] {
  background-color: #66e0f8 !important;
}
```

---

## Integration Checklist

Use this checklist when integrating Figma Make components:

- [ ] **Copy component files** to your project
- [ ] **Run both projects** side-by-side for visual comparison
- [ ] **Check for missing dimension classes** (`h-[Xpx]`, `w-[Xpx]`)
- [ ] **Check for missing color classes** (`bg-[#...]`, `text-[#...]`)
- [ ] **Check for missing typography classes** (`text-[Xpx]`, `tracking-[Xpx]`, `leading-[X]`)
- [ ] **Check for missing border/shape classes** (`rounded-[Xpx]`)
- [ ] **Check for missing shadow/blur classes**
- [ ] **Check for missing hover state classes**
- [ ] **Verify Google Fonts import** includes all needed weights (300-900)
- [ ] **Add missing font weight variables** (especially `--font-weight-semibold: 600`)
- [ ] **Add missing font utility classes** (`.font-semibold`, `.font-sans`)
- [ ] **Add `font-sans` to component** if fonts should match Figma exactly
- [ ] **Add `!important` to button background colors** if needed
- [ ] **Update component imports** in parent components
- [ ] **Test all interactive states** (hover, focus, active)

---

## Quick Reference: Grep Commands

Find all arbitrary value classes used in a Figma Make component:

```bash
# Find all bracket notation classes
grep -oE '\[[^\]]+\]' "Design.../src/components/ComponentName.tsx" | sort -u

# Check if a specific class exists in main CSS
grep "CLASS_NAME" src/index.css

# Find all color-related classes
grep -E 'bg-\[#|text-\[#|border-\[#' "Design.../src/index.css"

# Find all dimension classes
grep -E 'h-\[|w-\[' "Design.../src/index.css"
```

---

## File Locations

| File | Purpose |
|------|---------|
| `src/index.css` | Main project CSS - add missing utilities here |
| `src/components/` | Component destination folder |
| `Design.../src/index.css` | Figma Make CSS - source for missing utilities |
| `Design.../src/components/` | Figma Make components to copy |

---

## Final Step: Side-by-Side Visual Comparison

After copying components and adding missing CSS utilities, run both projects simultaneously to verify pixel-perfect matching.

### Setup

1. **Configure Figma Make project to use a different port:**

Edit `vite.config.ts` in the Figma Make project:

```typescript
server: {
  port: 5174,  // Use a different port than main project
  open: false,
},
```

2. **Install dependencies and start both servers:**

```bash
# Terminal 1 - Figma Make project
cd Temp/pianos  # or your Figma Make directory
npm install
npm run dev     # Runs on port 5174

# Terminal 2 - Main project
cd v2/Booking
npm run dev     # Runs on default port (e.g., 3002 or 5173)
```

### Visual Comparison Process

3. **Open both versions in browser tabs:**
   - Figma Make: `http://localhost:5174/`
   - Main Project: `http://localhost:3002/booking/` (navigate to the same component)

4. **Compare key visual elements:**
   - Hero sections (images, overlays, rounded corners)
   - Typography (font sizes, weights, letter-spacing)
   - Spacing (padding, margins, gaps)
   - Colors (backgrounds, text, borders)
   - Interactive states (hover, focus)
   - Responsive behavior (resize browser)

5. **Check browser DevTools for missing styles:**
   - Inspect elements that look different
   - Look for CSS classes that appear but have no effect
   - Use the Computed tab to see actual applied values

### Common Issues Found During Comparison

| Issue | Symptom | Solution |
|-------|---------|----------|
| Hero section has 0 height | Content collapses below where hero should be | Add missing `h-[400px]` and `md:h-[500px]` utilities |
| Gallery carousel not scrolling | Images stacked vertically | Add `snap-x`, `snap-mandatory`, `overflow-x-auto` utilities |
| Fonts look different | Text appears thinner/thicker | Update Google Fonts import with all weights |
| Hover effects not working | No visual feedback on interaction | Add missing hover state classes |

### Example: Adding Missing Hero Height Classes

If the hero section is collapsing, add these to `src/index.css`:

```css
.h-\[400px\] {
  height: 400px;
}

@media (width >= 48rem) {
  .md\:h-\[500px\] {
    height: 500px;
  }
}
```

### Verification Checklist

- [ ] Hero section displays with correct height and rounded corners
- [ ] All text is readable and properly styled
- [ ] Images load and display correctly
- [ ] Booking/options widget is functional
- [ ] Gallery carousel scrolls horizontally (if present)
- [ ] Hover states work on buttons and interactive elements
- [ ] Layout is responsive at different viewport sizes
- [ ] No console errors related to missing styles

---

## Deploying to the v2 Static Site

After successfully integrating and verifying the components, deploy the booking app to the main v2 project.

### Build and Deploy

1. **Build the Booking app:**

```bash
cd v2/Booking
npm run build
```

This creates a production build in `v2/Booking/build/`.

2. **Copy the build to the `/booking/` directory:**

The v2 static site (`http://localhost:8080/v2/`) loads the booking app via an iframe from `/booking/index.html`. Deploy the build there:

```bash
cp -r v2/Booking/build/* booking/
```

3. **Test the integration:**

- Open `http://localhost:8080/v2/`
- Click "Book Now" to open the booking modal
- Navigate to your integrated component (e.g., Special Events → Dueling Pianos)
- Verify the design matches the Figma Make output

### v2 Project Architecture

```
website/
├── v2/                       # Static v2 site
│   ├── index.html           # Main HTML (served at /v2/)
│   ├── css/styles.css       # Main site styles
│   ├── js/main.js           # Main site JS (handles booking modal)
│   ├── Booking/             # React booking app source
│   │   ├── src/
│   │   ├── build/           # Production build output
│   │   └── package.json
│   └── booking/             # Alternative build location
│
├── booking/                  # ← DEPLOY HERE (served at /booking/)
│   ├── index.html
│   └── assets/
│
└── Temp/                     # Figma Make exports
    └── pianos/              # Latest component designs
```

### Booking Modal Flow

The v2 site opens an iframe modal when "Book Now" is clicked:

```javascript
// v2/js/main.js
bookingIframe.src = '/booking/index.html';
```

This means the deployed build at `/booking/` is loaded inside the v2 page.

---

## Notes

- Figma Make uses Tailwind CSS v4 with JIT compilation
- The main project also uses Tailwind CSS v4
- CSS utilities are compiled at build time, so adding new arbitrary values requires adding the CSS manually
- Always test on both localhost ports to ensure visual parity
- Keep Figma Make exports in a `Temp/` folder for easy reference during integration
- After integration is verified, rebuild and deploy to `/booking/` for production use

